<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>LPvis ðŸ•º</title>
    <link rel="shortcut icon" href="/media/cropped-eox_eye-32x32.png" />

    <link rel="stylesheet" href="dependencies/leaflet.css">
    <link rel="stylesheet" href="dependencies/leaflet.table.css">
    <link rel="stylesheet" href="dependencies/supagrid.css">
    <link rel="stylesheet" href="dependencies/Control.MiniMap.min.css">
    <link rel="stylesheet" href="dependencies/leaflet.magnifyingglass.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.2/css/all.min.css">
    <link rel="stylesheet" href="style.css">

    <script type="text/javascript" src="dependencies/leaflet.js"></script>
    <script type="text/javascript" src="dependencies/Leaflet.VectorGrid.bundled.min.js"></script>
    <script type="text/javascript" src="dependencies/leaflet.table.js"></script>
    <script type="text/javascript" src="dependencies/supagrid.js"></script>
    <script type="text/javascript" src="dependencies/leaflet-control-swipe.js"></script>
    <script type="text/javascript" src="dependencies/Leaflet.Control.Custom.js"></script>
    <script type="text/javascript" src="dependencies/Control.MiniMap.min.js"></script>
    <script type="text/javascript" src="dependencies/leaflet.magnifyingglass.js"></script>
    <script type="text/javascript "src="dependencies/wicket.min.js" charset="utf-8"></script>

    <!-- dependencies timeseries-graph -->
    <script type="text/javascript" src="dependencies/d3.min.js" charset="utf-8"></script>    <script type="text/javascript" src="utils.js"></script>
    <script type="text/javascript" src="timestacks.js"></script>

  </head>
  <body>
    <div class="page_wrap">
      <header>
        <h1>Euro Data Cube Demo App: LPvis</h1>
      </header>
      <div id="wrapper">
        <div id="map"></div>
        <div id="sidebar"></div>
      </div>
    </div>
    <script type="text/javascript" src="main.js"></script>

    <!-- Start unsupported browser notice -->
  <script src="dependencies/modal.min.js"></script>
  <div id="ie-modal-container">
    <div id="ie-info" class="modal fade" tabindex="-1" role="dialog">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h2 class="modal-title">Unsupported Browser :(</h2>
          </div>
          <div class="modal-body">
            <p>LPvis probably won't work great with your current browser.<br />We generally only support the recent versions of major browsers
              like Chrome, Firefox, Safari, and Edge.</p>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-primary" data-dismiss="modal">Dismiss & Try Anyway</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      var ieModal = new Modal({
        el: document.getElementById('ie-info')
      });

      ieModal.on('dismiss', function(myModal, event) {
        document.getElementById('ie-modal-container').style.display = 'none'
        document.documentElement.classList.remove('modal-open');
      })

      // Get IE or Edge browser version
      var version = detectIE();
      if (version != false) {
        document.getElementById('ie-modal-container').style.display = 'flex'
        document.documentElement.classList.add('modal-open');
        ieModal.show();
      }

      /**
      * detect IE
      * returns version of IE or false, if browser is not Internet Explorer
      */
      function detectIE() {
        var ua = window.navigator.userAgent;

        var msie = ua.indexOf('MSIE ');
        if (msie > 0) {
          // IE 10 or older => return version number
          return parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10);
        }

        var trident = ua.indexOf('Trident/');
        if (trident > 0) {
          // IE 11 => return version number
          var rv = ua.indexOf('rv:');
          return parseInt(ua.substring(rv + 3, ua.indexOf('.', rv)), 10);
        }

        // other browser
        return false;
      }
    </script>
    <!-- End unsupported browser notice -->
  </body>
</html>
